<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="pt-br" xml:lang="pt-br">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="pt-br" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Ploobs Engine &bull; Exibir tópico - Using Systems for variants of entities</title>



<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Escreva o número da página a qual você deseja ir:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.ploobs.com.br';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="./styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="./styles/prosilver/template/forum_fn.js"></script>

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=1&amp;lang=pt-br&amp;sid=85662af188b466509e356bc6229e4711" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />



</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php?sid=85662af188b466509e356bc6229e4711" title="Índice do fórum" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Ploobs Engine</h1>
				<p>Ploobs Engine Forum</p>
				<p class="skiplink"><a href="#start_here">Pular para o conteúdo</a></p>
			</div>

		
			<div id="search-box">
				<form action="./search.php?sid=85662af188b466509e356bc6229e4711" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="text" maxlength="128" title="Pesquisar por palavras-chaves" class="inputbox search" value="Pesquisar…" onclick="if(this.value=='Pesquisar…')this.value='';" onblur="if(this.value=='')this.value='Pesquisar…';" />
					<input class="button2" value="Pesquisar" type="submit" /><br />
					<a href="./search.php?sid=85662af188b466509e356bc6229e4711" title="Ver as opções da pesquisa avançada">Pesquisa avançada</a> <input type="hidden" name="sid" value="85662af188b466509e356bc6229e4711" />

				</fieldset>
				</form>
			</div>
		

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php?sid=85662af188b466509e356bc6229e4711" accesskey="h">Índice do fórum</a>  <strong>&#8249;</strong> <a href="./viewforum.php?f=2&amp;sid=85662af188b466509e356bc6229e4711">Engine</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=39&amp;sid=85662af188b466509e356bc6229e4711">Artemis C# Entity System</a></li>

				<li class="rightside"><a href="#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Alterar o tamanho da fonte">Alterar o tamanho da fonte</a></li>

				<li class="rightside"><a href="./viewtopic.php?f=39&amp;t=533&amp;sid=85662af188b466509e356bc6229e4711&amp;view=print" title="Exibir página para impressão" accesskey="p" class="print">Exibir página para impressão</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="./faq.php?sid=85662af188b466509e356bc6229e4711" title="Questões mais frequentes">FAQ</a></li>
				<li class="icon-register"><a href="./ucp.php?mode=register&amp;sid=85662af188b466509e356bc6229e4711">Registrar</a></li>
					<li class="icon-logout"><a href="./ucp.php?mode=login&amp;sid=85662af188b466509e356bc6229e4711" title="Entrar" accesskey="x">Entrar</a></li>
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=39&amp;t=533&amp;sid=85662af188b466509e356bc6229e4711">Using Systems for variants of entities</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">About Artemis<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=39&amp;t=533&amp;sid=85662af188b466509e356bc6229e4711" title="Responder"><span></span>Responder</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="get" id="topic-search" action="./search.php?sid=85662af188b466509e356bc6229e4711">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Pesquisar neste tópico…" onclick="if(this.value=='Pesquisar neste tópico…')this.value='';" onblur="if(this.value=='')this.value='Pesquisar neste tópico…';" />
				<input class="button2" type="submit" value="Pesquisar" />
				<input type="hidden" name="t" value="533" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="85662af188b466509e356bc6229e4711" />

			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			3 mensagens
			 &bull; Página <b>1</b> de <b>1</b>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p2137" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p2137">Using Systems for variants of entities</a></h3>
			<p class="author"><a href="./viewtopic.php?p=2137&amp;sid=85662af188b466509e356bc6229e4711#p2137"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Mensagem" title="Mensagem" /></a>por <strong><a href="./memberlist.php?mode=viewprofile&amp;u=321&amp;sid=85662af188b466509e356bc6229e4711">Lain</a></strong> &raquo; 08 Abr 2013, 21:33 </p>

			

			<div class="content">Hi! <br /><br />I have read through Artemis example game code, to understand, how to implement Artemis in my game.<br /><br /> I'm confused on how I'm supposed to properly implement some kind of distinction in object behaviors, if they are of made of same of the same bunch of components, yet need a different treatment.<br /><br />For example, lets consider CollisionSystem from Star Warrior:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;summary&gt;Processes the entities.&lt;/summary&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;param name=&quot;entities&quot;&gt;The entities.&lt;/param&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; protected override void ProcessEntities(IDictionary&lt;int, Entity&gt; entities)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bag&lt;Entity&gt; bullets = this.EntityWorld.GroupManager.GetEntities(&quot;BULLETS&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bag&lt;Entity&gt; ships = this.EntityWorld.GroupManager.GetEntities(&quot;SHIPS&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (bullets != null &amp;&amp; ships != null)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (int shipIndex = 0; ships.Count &gt; shipIndex; ++shipIndex)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity ship = ships.Get(shipIndex);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (int bulletIndex = 0; bullets.Count &gt; bulletIndex; ++bulletIndex)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity bullet = bullets.Get(bulletIndex);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (this.CollisionExists(bullet, ship))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TransformComponent bulletTransform = this.transformMapper.Get(bullet);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity bulletExplosion = this.EntityWorld.CreateEntityFromTemplate(BulletExplosionTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bulletExplosion.GetComponent&lt;TransformComponent&gt;().Position = bulletTransform.Position;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bulletExplosion.Refresh();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bullet.Delete();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HealthComponent healthComponent = this.healthMapper.Get(ship);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; healthComponent.AddDamage(4);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!healthComponent.IsAlive)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TransformComponent shipTransform = this.transformMapper.Get(ship);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity shipExplosion = this.EntityWorld.CreateEntityFromTemplate(ShipExplosionTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.GetComponent&lt;TransformComponent&gt;().Position = shipTransform.Position;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.Refresh();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship.Delete();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /></code></dd></dl><br /><br />What do i do, if certain ship needs different kind of behavior, if it is destroyed? For example, lets say we want to create some very nasty kind of ship, that creates two copies of himself, when destroyed, not explodes. Do i add 'NastyShipComponent' to each of the ships? And then do something like: <br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>if (!healthComponent.IsAlive)<br />{<br />&nbsp; &nbsp; NastyShipComponent nastyShip = this.nastyShipMapper.Get(ship);<br />&nbsp; &nbsp; if (nastyShip.IsDublicatingOponDeath)<br />&nbsp; &nbsp; &nbsp; &nbsp; //Do nasty ship stuff<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; TransformComponent shipTransform = this.transformMapper.Get(ship);<br />&nbsp; &nbsp; &nbsp; &nbsp; Entity shipExplosion = this.EntityWorld.CreateEntityFromTemplate(ShipExplosionTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.GetComponent&lt;TransformComponent&gt;().Position = shipTransform.Position;<br />&nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.Refresh();<br />&nbsp; &nbsp; &nbsp; &nbsp; ship.Delete();<br />&nbsp; &nbsp; break;<br />}<br /></code></dd></dl><br /><br />So i need to add NastyShipComponent to *every* ship, just because some of them are nasty? <br /><br />How do you best go about it? Is there other way?<br /><br />Now, another example. Lets assume there are other systems, that can destroy a ship besides bullets. Lets assume, that i want all ships to just die and explode this time, no exception. Do i need to duplicate the 'death' behavior (whenever healthComponent.IsAlive == false) in every system, that can kill a ship? And change it every time, in every instance, whenever i rethink what the ship should do, when it dies?</div>

			

		</div>

		
			<dl class="postprofile" id="profile2137">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=321&amp;sid=85662af188b466509e356bc6229e4711">Lain</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensagens:</strong> 3</dd><dd><strong>Registrado em:</strong> 08 Abr 2013, 21:00</dd>
			<dd><strong>Area:</strong> Programador</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Voltar ao topo">Voltar ao topo</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2138" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2138">Re: Using Systems for variants of entities</a></h3>
			<p class="author"><a href="./viewtopic.php?p=2138&amp;sid=85662af188b466509e356bc6229e4711#p2138"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Mensagem" title="Mensagem" /></a>por <strong><a href="./memberlist.php?mode=viewprofile&amp;u=54&amp;sid=85662af188b466509e356bc6229e4711" style="color: #000066;" class="username-coloured">tpastor</a></strong> &raquo; 08 Abr 2013, 22:43 </p>

			

			<div class="content">hi,<br /><br />i will put my opinions about your concerns:<br /><br />First of all, entity systems are good cause they DECOUPLE entities and behaviors of the entities.<br /><br />With this in mind, what you should do is simple, you should have an extra component that mark an entity saying &quot;if this entity dies, it will make a copy of itself ..... &quot;<br /><br />Looking at the code:<br /><br />you could change the CollisionSystem, breaking it in two parts.<br />one that handles the COLLISION and ones that handles the DEATH !!!!<br /><br />ex:<br /><br />COllision part:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>.....<br />....<br />&nbsp; if (!healthComponent.IsAlive)<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship.AddComponent&lt;DEATH&gt;(new Death(...))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />}<br /><br /></code></dd></dl><br /><br />Death Component 1 (handles old death behavior)<br />Thits component would handle the entities with Death Behavior<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>.....<br />.....<br />.....<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TransformComponent shipTransform = this.transformMapper.Get(ship);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity shipExplosion = this.EntityWorld.CreateEntityFromTemplate(ShipExplosionTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.GetComponent&lt;TransformComponent&gt;().Position = shipTransform.Position;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shipExplosion.Refresh();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship.Delete();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br /></code></dd></dl><br /><br /><br />Death Component 2 (handles the &quot;copy on death&quot; behavior)<br />Thits component would handle the entities with Death Behavior AND COPYONDEATH behavior<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TransformComponent shipTransform = this.transformMapper.Get(ship);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity ship2 = this.EntityWorld.CreateEntityFromTemplate(ShipTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entity ship3 = this.EntityWorld.CreateEntityFromTemplate(ShipTemplate.Name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship2.GetComponent&lt;TransformComponent&gt;().Position = shipTransform.Position;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship3.GetComponent&lt;TransformComponent&gt;().Position = shipTransform.Position + Vector3. .....;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship.removeComponent&lt;COPYONDEATH&gt;()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ship2.refresh()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.....<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;...<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br /></code></dd></dl><br /><br /><br />Got the idea !!!<br /><br />As a guidance:<br />Try to make your behaviors independent.<br />Your entities are just a collection of behaviors (if you want to add a new logic (like this))m try to thing that you must add another component and another system to process it.<br /><br /><br /><br />Question 2:<br />No, you dont.<br />Create a new component called death<br />when the ship dies, just add the death behavior on it<br />The systems that want to customize the death behavior just process this component<br /><br />(look at the aspects, you can create funny logics with it (for example System A process entities with components X but without component Z) )<br /><br />To end: take a look at QueueSystem types, this may help you (this type of system DOES not filter for a component, it has a queue that recieves entities (of any kind, with any component) and process it only once)<br />Take a look at our unit test for more info:<br /><br /><a href="https://github.com/thelinuxlich/artemis_CSharp/blob/master/Artemis_UnitTests/TestGeneral.cs" class="postlink">https://github.com/thelinuxlich/artemis_CSharp/blob/master/Artemis_UnitTests/TestGeneral.cs</a><br /><br />This is just my opinion, other people can find other/better approach</div>

			<div id="sig2138" class="signature">PloobsEngine<br />Creator and Developer<br />ploobs.com.br/?page_id=1381</div>

		</div>

		
			<dl class="postprofile" id="profile2138">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=54&amp;sid=85662af188b466509e356bc6229e4711"><img src="./download/file.php?avatar=54_1302457951.png" width="116" height="89" alt="Avatar do usuário" /></a><br />
				<a href="./memberlist.php?mode=viewprofile&amp;u=54&amp;sid=85662af188b466509e356bc6229e4711" style="color: #000066;" class="username-coloured">tpastor</a>
			</dt>

			<dd>TechDemo</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensagens:</strong> 700</dd><dd><strong>Registrado em:</strong> 25 Mar 2011, 16:40</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://ploobsengine.codeplex.com/" title="Visitar website do usuário: http://ploobsengine.codeplex.com/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Voltar ao topo">Voltar ao topo</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2139" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2139">Re: Using Systems for variants of entities</a></h3>
			<p class="author"><a href="./viewtopic.php?p=2139&amp;sid=85662af188b466509e356bc6229e4711#p2139"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Mensagem" title="Mensagem" /></a>por <strong><a href="./memberlist.php?mode=viewprofile&amp;u=321&amp;sid=85662af188b466509e356bc6229e4711">Lain</a></strong> &raquo; 09 Abr 2013, 04:42 </p>

			

			<div class="content">I see. <br /><br />Its actually really beautiful, and really scary at the same time. Imagine all dem EnitySystems... Well, but as they say - never prematurely optimize.<br /><br />I guess it comes down to smart decisions, trying to minimize system and component count, while keeping components and systems separate, where they dont belong together.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2139">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=321&amp;sid=85662af188b466509e356bc6229e4711">Lain</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensagens:</strong> 3</dd><dd><strong>Registrado em:</strong> 08 Abr 2013, 21:00</dd>
			<dd><strong>Area:</strong> Programador</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Voltar ao topo">Voltar ao topo</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="./viewtopic.php?f=39&amp;t=533&amp;sid=85662af188b466509e356bc6229e4711">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Exibir mensagens anteriores: <select name="st" id="st"><option value="0" selected="selected">Todas as mensagens</option><option value="1">1 dia</option><option value="7">7 dias</option><option value="14">2 semanas</option><option value="30">1 mês</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 ano</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Data da mensagem</option><option value="s">Título</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Crescente</option><option value="d">Decrescente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=39&amp;t=533&amp;sid=85662af188b466509e356bc6229e4711" title="Responder"><span></span>Responder</a></div>
	
	</div>

	
		<div class="pagination">
			3 mensagens
			 &bull; Página <b>1</b> de <b>1</b>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php?f=39&amp;sid=85662af188b466509e356bc6229e4711" class="left-box left" accesskey="r">Voltar para Artemis C# Entity System</a></p>

	<form method="post" id="jumpbox" action="./viewforum.php?sid=85662af188b466509e356bc6229e4711" onsubmit="if(this.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Ir para:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Selecione um fórum</option>
			<option value="-1">------------------</option>
				<option value="1">Geral</option>
			
				<option value="25">&nbsp; &nbsp;Geral</option>
			
				<option value="26">&nbsp; &nbsp;Noticias/News</option>
			
				<option value="36">&nbsp; &nbsp;Eventos/Events</option>
			
				<option value="2">Engine</option>
			
				<option value="3">&nbsp; &nbsp;Core</option>
			
				<option value="4">&nbsp; &nbsp;Dúvidas</option>
			
				<option value="5">&nbsp; &nbsp;Feature Demos</option>
			
				<option value="18">&nbsp; &nbsp;Tutoriais/Tutorials</option>
			
				<option value="35">&nbsp; &nbsp;Sugestões/Suggestions</option>
			
				<option value="38">&nbsp; &nbsp;TechDemo</option>
			
				<option value="39" selected="selected">&nbsp; &nbsp;Artemis C# Entity System</option>
			
				<option value="31">Projetos/Projects</option>
			
				<option value="32">&nbsp; &nbsp;Concluidos/Finished</option>
			
				<option value="33">&nbsp; &nbsp;Workblogs</option>
			
				<option value="7">Off-Topic</option>
			
				<option value="21">&nbsp; &nbsp;Off-Topic</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>Quem está online</h3>
	<p>Usuários navegando neste fórum: Nenhum usuário registrado e 1 visitante</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php?sid=85662af188b466509e356bc6229e4711" accesskey="h">Índice do fórum</a></li>
				
			<li class="rightside"><a href="./memberlist.php?mode=leaders&amp;sid=85662af188b466509e356bc6229e4711">Equipe do fórum</a> &bull; <a href="./ucp.php?mode=delete_cookies&amp;sid=85662af188b466509e356bc6229e4711">Excluir todos os cookies deste painel</a> &bull; Todos os horários são GMT - 3 horas </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		<br />Traduzido por: <a href="http://www.suportephpbb.com.br">Suporte phpBB</a>
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="./cron.php?cron_type=tidy_cache&amp;sid=85662af188b466509e356bc6229e4711" width="1" height="1" alt="cron" />
</div>

</body>
</html>